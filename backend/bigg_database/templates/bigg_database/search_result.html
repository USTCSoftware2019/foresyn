{% extends "base.html" %}
{% load render_list_tag %}
{% load calc_index_display_tag %}
{% load render_link_tag %}

{% block title %}
Search result - {{ query }}
{% endblock %}

{% block content %}

<div id="content" class="container mt-4">
  <div class="row">
    <div class="left_index col-3">
      <ul class="list-group text-primary">
        <a {% if counts.gene != 0 %} href="?q={{ query }}&model=gene" {% else %} href="#" {% endif %}
           class="list-group-item {% if search_type == "gene" %} chosen {% endif %} {% if counts.gene == 0 %} disabled {% endif %}">
           Gene<span class="badge badge-info badge-search">{{ counts.gene }}</span>
        </a>
        <a {% if counts.reaction != 0 %} href="?q={{ query }}&model=reaction" {% else %} href="#" {% endif %}
           class="list-group-item {% if search_type == "reaction" %} chosen {% endif %} {% if counts.reaction == 0 %} disabled {% endif %}">
           Reaction<span class="badge badge-info badge-search">{{ counts.reaction }}</span>
        </a>
        <a {% if counts.metabolite != 0 %} href="?q={{ query }}&model=metabolite" {% else %} href="#" {% endif %} 
           class="list-group-item {% if search_type == "metabolite" %} chosen {% endif %} {% if counts.metabolite == 0 %} disabled {% endif %}">
           Metabolite<span class="badge badge-info badge-search">{{ counts.metabolite }}</span>
        </a>
        <a {% if counts.model != 0 %} href="?q={{ query }}&model=model" {% else %} href="#" {% endif %}
           class="list-group-item {% if search_type == "model" %} chosen {% endif %} {% if counts.model == 0 %} disabled {% endif %}">
           Model<span class="badge badge-info badge-search">{{ counts.model }}</span>
        </a>

      </ul>
    </div>
    <div class="right_content col-9">

      <h5 class="result_num">{{ this_cnt }} result{% if this_cnt <= 1 %}{% else %}s{% endif %} in
        {{ search_type }}, {{ total_count }} result{% if total_count <= 1 %}{% else %}s{% endif %} in total</h5>
      <div class="list-group list-group-flush mb-5">
        {% if this_cnt == 0 %}
          <h3>No results.</h3>
        {% else %}
          {% for search_result in object_list %}
          <div href="#" class="list-group-item list-group-item-action flex-column align-items-start">
            <div class="d-flex w-100 justify-content-between">
              <a class="mb-1" href="{% render_link_tag search_result %}">
                <h5>
                  {{ search_result.bigg_id }}
                </h5>
              </a>
              <i class="fa fa-star-o mr-2"></i>
            </div>
            <p class="mb-1">
              {% ifequal search_type 'model' %}
              {# **Please determine what to put here** #}
              {% else %}
              {{ search_result.name }}
              {% endifequal %}</p>
            <small>Bigg Database</small>
          </div>
          {% endfor %}
        {% endif %}
      </div>

      {% if is_paginated %}
      {% calc_index_display_tag %}
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}