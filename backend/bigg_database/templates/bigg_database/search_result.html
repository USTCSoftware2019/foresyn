{% extends "base.html" %}
{% load render_list_tag %}
{% load calc_index_display_tag %}

{% block title %}
Search result - {{ query }}
{% endblock %}

{% block content %}

<div id="content" class="container mt-4">
  <div class="row">
    <div class="left_index col-3">
      <ul class="list-group text-primary">
        <a href="{% url 'bigg_database:search' %}?q={{ query }}&model=model&page=1" style="text-decoration: none;">
          <li class="list-group-item{% ifequal search_type 'model' %} chosen{% endifequal %}">Model<span
              class="badge badge-info">{{ model_count }}</span></li>
        </a>
        <a href="{% url 'bigg_database:search' %}?q={{ query }}&model=reaction&page=1" style="text-decoration: none;">
          <li class="list-group-item{% ifequal search_type 'reaction' %} chosen{% endifequal %}">Reaction<span
              class="badge badge-info">{{ reaction_count }}</span></li>
        </a>
        <a href="{% url 'bigg_database:search' %}?q={{ query }}&model=metabolite&page=1" style="text-decoration: none;">
          <li class="list-group-item{% ifequal search_type 'metabolite' %} chosen{% endifequal %}">Metabolite<span
              class="badge badge-info">{{ metabolite_count }}</span></li>
        </a>
        <a href="{% url 'bigg_database:search' %}?q={{ query }}&model=gene&page=1" style="text-decoration: none;">
          <li class="list-group-item{% ifequal search_type 'gene' %} chosen{% endifequal %}">Gene<span
              class="badge badge-info">{{ gene_count }}</span></li>
        </a>
      </ul>
    </div>
    <div class="right_content col-9">

      <h5 class="result_num">{{ current_search_type_count }} result{% if total_count <= 1 %}{% else %}s{% endif %} in
        {{ search_type }}, {{ total_count }} result{% if total_count <= 1 %}{% else %}s{% endif %} in total</h5>
      <div class="list-group list-group-flush mb-5">
        {% for search_result in object_list %}
        <div href="#" class="list-group-item list-group-item-action flex-column align-items-start">
          <div class="d-flex w-100 justify-content-between">
            <a class="mb-1" href="#">
              <h5>
                {{ search_result.bigg_id }}
              </h5>
            </a>
            <i class="fa fa-star-o mr-2"></i>
          </div>
          <p class="mb-1">
            {% ifequal search_type 'model' %}
            {# **Please determine what to put here** #}
            {% else %}
            {{ search_result.name }}
            {% endifequal %}</p>
          <small>Bigg Database</small>
        </div>
        {% endfor %}
      </div>

      {% if is_paginated %}
      {% calc_index_display_tag %}
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}