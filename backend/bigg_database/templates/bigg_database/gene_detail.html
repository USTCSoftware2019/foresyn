{% extends 'base.html' %}
{% load render_list_tag %}

{% block title %}
Gene: {{ gene.bigg_id }}
{% endblock %}

{% block content %}

<div class="container">
    <div class="card">
        <div class="card-header">
            <h3>Gene: {{ gene.bigg_id }}</h3>
        </div>
        <div class="card-body">
            <h4>Descriptive name</h4>
            <p>{{ gene.name }}</p>
            <hr>
            <h4>Position</h4>
            <p>{{ gene.leftpos }} ~ {{ gene.rightpos }}</p>
            <hr>
            <h4>Strand</h4>
            <p>{{ gene.strand }}</p>
            <hr>
            <h4>Chromosome</h4>
            <p>{{ gene.chromosome_ncbi_accession }}</p>
            <hr>
            <h4>DNA Sequence</h4>
            <p>{{ gene.dna_sequence }}</p>
            <hr>
            <h4>Protein Sequence</h4>
            <p>{{ gene.protein_sequence }}</p>
            <hr>

            {% if gene.database_links %}
            <h4>External database links</h4>
            {% include 'bigg_database/db_links.html' with db_links=gene.database_links only %}
            <hr>
            {% endif %}

            <h4><a href="{% url 'bigg_database:gene_from_models' gene.id %}">
                Models Containing {{ gene.bigg_id }}</a></h4>
            {% render_list_tag gene.models.all 'model' 'model_gene_relationship_detail' id=gene.id reverse=True %}
            <hr>
            <h4><a href="{% url 'bigg_database:gene_from_reactions' gene.id %}">
                Reactions Containing {{ gene.bigg_id }}</a></h4>
            {% render_list_tag gene.reactions.all 'reaction' 'reaction_gene_relationship_detail' id=gene.id reverse=True %}
            
        </div>
    </div>
</div>

{% comment %}

<h1>Gene: {{ gene.bigg_id }}</h1>

<h4>Descriptive name</h4>
<p>{{ gene.name }}</p>

<h4>Position</h4>
<p>{{ gene.leftpos }} ~ {{ gene.rightpos }}</p>

<h4>Strand</h4>
<p>{{ gene.strand }}</p>

<h4>Chromosome</h4>
<p>{{ gene.chromosome_ncbi_accession }}</p>

<h4>DNA Sequence</h4>
<p>{{ gene.dna_sequence }}</p>

<h4>Protein Sequence</h4>
<p>{{ gene.protein_sequence }}</p>

{% if gene.database_links %}
<h4>External database links</h4>
{% include 'bigg_database/db_links.html' with db_links=gene.database_links only %}
{% endif %}

<h4><a href="{% url 'bigg_database:gene_from_models' gene.id %}">
    Models Containing {{ gene.bigg_id }}</a></h4>
{% render_list_tag gene.models.all 'model' 'model_gene_relationship_detail' id=gene.id reverse=True %}

<h4><a href="{% url 'bigg_database:gene_from_reactions' gene.id %}">
    Reactions Containing {{ gene.bigg_id }}</a></h4>
{% render_list_tag gene.reactions.all 'reaction' 'reaction_gene_relationship_detail' id=gene.id reverse=True %}

{% endcomment %}

{% endblock %}
