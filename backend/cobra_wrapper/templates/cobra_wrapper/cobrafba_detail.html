{% extends 'base.html' %}

{% load cobra_wrapper_tags %}

{% block title %}FBA Result of {{ object }}{% endblock title %}


{% block content %}
    <table>
        <tr>
            <td>id</td>
            <td>{{ object.id }}</td>
        </tr>
        <tr>
            <td>description</td>
            <td>{{ object.desc }}</td>
        </tr>
        <tr>
            <td>start_time</td>
            <td>{{ object.start_time }}</td>
        </tr>
        <tr>
            <td>model</td>
            <td><a href="{% url 'cobra_wrapper:cobramodel_detail' model_pk %}">{{ object.model }}</a></td>
        </tr>
    </table>

    <p>Status: {{ object|check_result_status }}</p>

    {% if result %}
        <table>
            <tr>
                <th>objective_value</th>
                <th>status</th>
            </tr>
            <tr>
                <td>{{ result.objective_value }}</td>
                <td>{{ result.status }}</td>
            </tr>
        </table>

        <table>
            <thead>
            <tr>
                <th>fluxes</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th>name</th>
                <th>value</th>
            </tr>
            {% for name, value in result.fluxes.items %}
                <tr>
                    <td>{{ name }}</td>
                    <td>{{ value }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

        <table>
            <thead>
            <tr>
                <th>shadow_price</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th>name</th>
                <th>value</th>
            </tr>
            {% for name, value in result.shadow_prices.items %}
                <tr>
                    <td>{{ name }}</td>
                    <td>{{ value }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% for fba in latest_fba_list %}
        {{ fba }}
    {% endfor %}

    <a href="{% url 'cobra_wrapper:cobrafba_confirm_delete' model_pk object.pk %}">Delete</a>
    <a href="{% url 'cobra_wrapper:cobrafba_list' model_pk %}">Return</a>
{% endblock content %}